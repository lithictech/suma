This is a heavily edited version of https://github.com/jessepollak/payment.

We needed more control over validation functions,
and were not using most of its capability.
